import org.gradle.internal.jvm.Jvm

plugins {
    id 'io.micronaut.build.internal.spring-module'
}

dependencies {
    api libs.managed.spring.context
    api mn.micronaut.aop
    api mn.micronaut.inject
    api projects.spring
    implementation mn.micronaut.cache.core

    testAnnotationProcessor mn.micronaut.inject.java
    testAnnotationProcessor projects.springAnnotation

    testImplementation mn.micronaut.runtime
    testImplementation mn.micronaut.inject.java
    testImplementation projects.springAnnotation
    testImplementation mn.micronaut.inject.java.test
    testImplementation("org.springframework:spring-jdbc:5.3.24") {
        because 'not defined in toml because it hit a bug with version catalogs'
    }
    testImplementation libs.h2database

    if (!JavaVersion.current().isJava9Compatible()) {
        testImplementation files(Jvm.current().toolsJar)
    }
}
